{
    "swagger": "2.0",
    "info": {
        "termsOfService": "https://fractapp.com/legal/tos.pdf",
        "contact": {
            "name": "Support",
            "email": "support@fractapp.com"
        },
        "license": {
            "name": "Apache 2.0",
            "url": "https://github.com/fractapp/fractapp-server/blob/main/LICENSE"
        }
    },
    "paths": {
        "/auth/sendCode": {
            "post": {
                "description": "send auth code to email/phone",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Send code",
                "operationId": "send-auth-code",
                "parameters": [
                    {
                        "description": "Send code rq",
                        "name": "rq",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/auth.SendCodeRq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    },
                    "202": {
                        "description": "Accepted",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": ""
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/auth/signIn": {
            "post": {
                "security": [
                    {
                        "AuthWithPubKey-SignTimestamp": []
                    },
                    {
                        "AuthWithPubKey-Sign": []
                    },
                    {
                        "AuthWithPubKey-Auth-Key": []
                    }
                ],
                "description": "sign in to fractapp account",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Sign in",
                "operationId": "signIn",
                "parameters": [
                    {
                        "description": "Confirm auth rq",
                        "name": "rq",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/auth.ConfirmAuthRq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    },
                    "400": {
                        "description": ""
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "429": {
                        "description": "Too Many Requests",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "auth.Address": {
            "type": "object",
            "properties": {
                "address": {
                    "description": "Blockchain address from account",
                    "type": "string"
                },
                "pubKey": {
                    "description": "PubKey from account",
                    "type": "string"
                },
                "sign": {
                    "description": "Sign for message \"It is my fractapp rq:{rqJson}{timestamp}\"",
                    "type": "string"
                }
            }
        },
        "auth.ConfirmAuthRq": {
            "type": "object",
            "properties": {
                "addresses": {
                    "description": "Addresses from account",
                    "type": "object",
                    "additionalProperties": {
                        "$ref": "#/definitions/auth.Address"
                    }
                },
                "code": {
                    "description": "The code that was sent",
                    "type": "string"
                },
                "type": {
                    "description": "Message type with code (0 - sms / 1 - email)",
                    "type": "integer",
                    "enum": [
                        0,
                        1
                    ]
                },
                "value": {
                    "description": "Email address or Phone number",
                    "type": "string"
                }
            }
        },
        "auth.SendCodeRq": {
            "type": "object",
            "properties": {
                "checkType": {
                    "description": "Now it is always zero. But in future it will have more types.",
                    "type": "integer",
                    "enum": [
                        0
                    ]
                },
                "type": {
                    "description": "Message type (0 - sms / 1 - email)",
                    "type": "integer",
                    "enum": [
                        0,
                        1
                    ]
                },
                "value": {
                    "description": "Email address or Phone number",
                    "type": "string"
                }
            }
        }
    },
    "securityDefinitions": {
        "AuthWithPubKey-Auth-Key": {
            "type": "apiKey",
            "name": "Auth-Key",
            "in": "header"
        },
        "AuthWithPubKey-Sign": {
            "type": "apiKey",
            "name": "Sign",
            "in": "header"
        },
        "AuthWithPubKey-SignTimestamp": {
            "type": "apiKey",
            "name": "Sign-Timestamp",
            "in": "header"
        }
    }
}